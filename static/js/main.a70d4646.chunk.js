(this["webpackJsonpanimal-crossing"]=this["webpackJsonpanimal-crossing"]||[]).push([[0],{19:function(e,t,a){e.exports=a(27)},24:function(e,t,a){},25:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(16),o=a.n(r),s=(a(24),a(4)),i=a(11),c=a(12),m=a(14),u=a(13),h=a(8),d=a(10),p=a(2),g=a(18);function E(e){return l.a.createElement("img",{src:e.image_url,alt:e.name,height:50})}function v(e){return l.a.createElement("div",null,l.a.createElement("b",null,e.name))}function b(e){return l.a.createElement("div",null,e.price," bells")}function f(e){return l.a.createElement("div",null,"Location: ",e.location)}function k(e){return l.a.createElement("div",null,"Shadow size: ",e.shadow_size)}function I(e){return l.a.createElement("div",null,e.time)}function x(e){for(var t="",a=0;a<e.months.length;a++)switch(e.months[a]){case 1:t+="Jan, ";break;case 2:t+="Feb, ";break;case 3:t+="Mar, ";break;case 4:t+="Apr, ";break;case 5:t+="May, ";break;case 6:t+="Jun, ";break;case 7:t+="Jul, ";break;case 8:t+="Aug, ";break;case 9:t+="Sep, ";break;case 10:t+="Oct, ";break;case 11:t+="Nov, ";break;case 12:t+="Dec, "}return t=t.substring(0,t.length-2),l.a.createElement("div",null,l.a.createElement("b",null,"Northern Hemisphere"),": ",t)}function y(e){for(var t="",a=0;a<e.months.length;a++)switch(e.months[a]){case 1:t+="Jan, ";break;case 2:t+="Feb, ";break;case 3:t+="Mar, ";break;case 4:t+="Apr, ";break;case 5:t+="May, ";break;case 6:t+="Jun, ";break;case 7:t+="Jul, ";break;case 8:t+="Aug, ";break;case 9:t+="Sep, ";break;case 10:t+="Oct, ";break;case 11:t+="Nov, ";break;case 12:t+="Dec, "}return t=t.substring(0,t.length-2),l.a.createElement("div",null,l.a.createElement("b",null,"Southern Hemisphere"),": ",t)}function C(e){return l.a.createElement("div",{className:"animal-list-item-grid"},l.a.createElement(E,{image_url:e.image_url}),l.a.createElement(v,{name:e.name}),l.a.createElement(b,{price:e.price}),l.a.createElement(f,{location:e.location}),l.a.createElement(I,{time:e.time}),l.a.createElement(x,{months:e.monthsNorthern}),l.a.createElement(y,{months:e.monthsSouthern}))}function w(e){return l.a.createElement("div",{className:"animal-list-item-grid"},l.a.createElement(E,{image_url:e.image_url}),l.a.createElement(v,{name:e.name}),l.a.createElement(b,{price:e.price}),l.a.createElement(f,{location:e.location}),l.a.createElement(k,{shadow_size:e.shadow_size}),l.a.createElement(I,{time:e.time}),l.a.createElement(x,{months:e.monthsNorthern}),l.a.createElement(y,{months:e.monthsSouthern}))}a(25),a(26);var S=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={items:n.props.items},n}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{id:"animal-list"},this.state.items||this.state.items.length>0?this.state.items.map((function(e){switch(typeof e.shadow_size){case"undefined":return l.a.createElement(C,{key:e.name,image_url:e.image_url,name:e.name,price:e.price,location:e.location,time:e.time,monthsNorthern:e.months.northern,monthsSouthern:e.months.southern});default:return l.a.createElement(w,{key:e.name,image_url:e.image_url,name:e.name,price:e.price,location:e.location,shadow_size:e.shadow_size,time:e.time,monthsNorthern:e.months.northern,monthsSouthern:e.months.southern})}})):l.a.createElement("div",null,"Loading..."))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.items.length!==t.items.length?{items:e.items}:null}}]),a}(l.a.Component),M=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={items:null,filteredItems:null,displayBugs:!1,displayFish:!1,fromTime:"12 AM",toTime:"11 PM",hemisphere:"northern",months:[]},n.fetchItems=n.fetchItems.bind(Object(s.a)(n)),n.toggleBugs=n.toggleBugs.bind(Object(s.a)(n)),n.toggleFish=n.toggleFish.bind(Object(s.a)(n)),n.toggleNorthernHemisphere=n.toggleNorthernHemisphere.bind(Object(s.a)(n)),n.toggleSouthernHemisphere=n.toggleSouthernHemisphere.bind(Object(s.a)(n)),n.updateFromTime=n.updateFromTime.bind(Object(s.a)(n)),n.updateToTime=n.updateToTime.bind(Object(s.a)(n)),n.updateMonths=n.updateMonths.bind(Object(s.a)(n)),n.cook=n.cook.bind(Object(s.a)(n)),n.handleSearch=n.handleSearch.bind(Object(s.a)(n)),n.handleWhatCanICatchNow=n.handleWhatCanICatchNow.bind(Object(s.a)(n)),n}return Object(c.a)(a,[{key:"updateList",value:function(){this.setState({items:this.props.items})}},{key:"fetchItems",value:function(){fetch("http://localhost:3000/bugs").then((function(e){return e.json()})).then(function(e){this.state.items?this.setState((function(t){return{items:t.items.concat(e)}})):this.setState({items:e}),this.state.filteredItems?this.setState((function(t){return{filteredItems:t.filteredItems.concat(e)}})):this.setState({filteredItems:e})}.bind(this)).catch((function(e){return console.log("Fetch error: "+e)})),fetch("http://localhost:3001/fish").then((function(e){return e.json()})).then(function(e){this.state.items?this.setState((function(t){return{items:t.items.concat(e)}})):this.setState({items:e}),this.state.filteredItems?this.setState((function(t){return{filteredItems:t.filteredItems.concat(e)}})):this.setState({filteredItems:e})}.bind(this)).catch((function(e){return console.log("Fetch error: "+e)}))}},{key:"toggleBugs",value:function(){this.setState((function(e){return{displayBugs:!e.displayBugs}}))}},{key:"toggleFish",value:function(){this.setState((function(e){return{displayFish:!e.displayFish}}),(function(){}))}},{key:"updateFromTime",value:function(){var e=document.getElementById("from-time"),t=e.options[e.selectedIndex].value;this.setState({fromTime:t})}},{key:"updateToTime",value:function(){var e=document.getElementById("to-time"),t=e.options[e.selectedIndex].value;this.setState({toTime:t},(function(){}))}},{key:"toggleNorthernHemisphere",value:function(e){e.checked?this.setState({hemisphere:null}):this.setState({hemisphere:"northern"})}},{key:"toggleSouthernHemisphere",value:function(e){e.checked?this.setState({hemisphere:null}):this.setState({hemisphere:"southern"})}},{key:"updateMonths",value:function(e){var t=this.state.months,a=Number(e.target.value),n=t.indexOf(a);-1===n?t.push(a):t.splice(n,1),this.setState({months:t})}},{key:"rangesOverlap",value:function(e,t,a,n){return console.log(e+", "+t+"--"+a+", "+n),a=a.toLowerCase(),n=n.toLowerCase(),-1!==a.indexOf("pm")?24===(a=Number(a.slice(0,-2).trim())+12)&&(a=12):a=Number(a.slice(0,-2).trim()),-1!==n.indexOf("pm")?24===(n=Number(n.slice(0,-2).trim())+12)&&(n=12):n=Number(n.slice(0,-2).trim()),e<n&&a<t}},{key:"cook",value:function(){if(null!=this.state.items){var e=this.state.items,t=this.state.fromTime,a=this.state.toTime,n=this;e=(e=e.filter((function(e){var t=!1,a=!1,l=n.state.displayBugs,r=n.state.displayFish;return l&&r?(t=!0,a=!0):l&&"undefined"===typeof e.shadow_size?t=!0:r&&"undefined"!==typeof e.shadow_size&&(a=!0),t||a}))).filter((function(e){var l=!1,r=!1;if(0===e.time.localeCompare("All day"))l=!0;else{var o=e.time.split(" "),s=[o[0].concat(o[1]).toLowerCase(),o[3].concat(o[4]).toLowerCase()];l=n.rangesOverlap(t,a,s[0],s[1]),o.includes("&")&&(s[0]=o[6].concat(o[7]),s[1]=o[9].concat(o[10]),l=l||n.rangesOverlap(t,a,s[0],s[1]))}switch(n.state.hemisphere){case"northern":r=n.state.months.every((function(t){return e.months.northern.includes(t)}));break;case"southern":r=n.state.months.every((function(t){return e.months.southern.includes(t)}));break;default:alert("error cooking")}return l&&r})),this.setState({filteredItems:e},(function(){console.log("Cook callback:")}))}}},{key:"handleSearch",value:function(e){var t=[];t=""!==e.target.value?this.state.items.filter((function(t){var a=t.name.toLowerCase(),n=e.target.value.toLowerCase();return a.includes(n)})):this.state.filteredItems,this.setState({filteredItems:t})}},{key:"handleWhatCanICatchNow",value:function(){var e=this;this.setState({displayBugs:!1,displayFish:!1,fromTime:"12 AM",toTime:"11 PM",hemisphere:"northern",months:[]},(function(){var t=new Date,a=t.getHours(),n=t.getMonth();document.getElementById("months-group").children[n].click();var l=document.getElementById("from-time"),r=document.getElementById("to-time");switch(a){case 0:l.selectedIndex=0,r.selectedIndex=1;break;case 1:l.selectedIndex=1,r.selectedIndex=2;break;case 2:l.selectedIndex=2,r.selectedIndex=3;break;case 3:l.selectedIndex=3,r.selectedIndex=4;break;case 4:l.selectedIndex=4,r.selectedIndex=5;break;case 5:l.selectedIndex=5,r.selectedIndex=6;break;case 6:l.selectedIndex=6,r.selectedIndex=7;break;case 7:l.selectedIndex=7,r.selectedIndex=8;break;case 8:l.selectedIndex=8,r.selectedIndex=9;break;case 9:l.selectedIndex=9,r.selectedIndex=10;break;case 10:l.selectedIndex=10,r.selectedIndex=11;break;case 11:l.selectedIndex=11,r.selectedIndex=12;break;case 12:l.selectedIndex=12,r.selectedIndex=13;break;case 13:l.selectedIndex=13,r.selectedIndex=14;break;case 14:l.selectedIndex=14,r.selectedIndex=15;break;case 15:l.selectedIndex=15,r.selectedIndex=16;break;case 16:l.selectedIndex=16,r.selectedIndex=17;break;case 17:l.selectedIndex=17,r.selectedIndex=18;break;case 18:l.selectedIndex=18,r.selectedIndex=19;break;case 19:l.selectedIndex=19,r.selectedIndex=20;break;case 20:l.selectedIndex=20,r.selectedIndex=21;break;case 21:l.selectedIndex=21,r.selectedIndex=22;break;case 22:l.selectedIndex=22,r.selectedIndex=23;break;case 23:l.selectedIndex=23,r.selectedIndex=0}e.updateFromTime(),e.updateToTime(),document.getElementById("northernButton").click(),document.getElementById("toggle-bugs-button").click(),document.getElementById("toggle-fish-button").click(),e.setState({},(function(){e.cook()}))}))}},{key:"componentDidMount",value:function(){this.fetchItems()}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("header",null,l.a.createElement("h1",null,"Animal Crossing Index")),l.a.createElement("div",{id:"hudContainer"},l.a.createElement(d.a,{type:"checkbox",className:"mb-1 flex-wrap"},l.a.createElement(p.a,{id:"toggle-bugs-button",value:1,onChange:this.toggleBugs},"Bugs"),l.a.createElement(p.a,{id:"toggle-fish-button",value:2,onChange:this.toggleFish},"Fish")),l.a.createElement("br",null),l.a.createElement("label",null,"From when?"),l.a.createElement("select",{id:"from-time",onChange:this.updateFromTime},l.a.createElement("optgroup",{label:"Morning (AM)"},l.a.createElement("option",{value:"0"},"12:00"),l.a.createElement("option",{value:"1"},"1:00"),l.a.createElement("option",{value:"2"},"2:00"),l.a.createElement("option",{value:"3"},"3:00"),l.a.createElement("option",{value:"4"},"4:00"),l.a.createElement("option",{value:"5"},"5:00"),l.a.createElement("option",{value:"6"},"6:00"),l.a.createElement("option",{value:"7"},"7:00"),l.a.createElement("option",{value:"8"},"8:00"),l.a.createElement("option",{value:"9"},"9:00"),l.a.createElement("option",{value:"10"},"10:00"),l.a.createElement("option",{value:"11"},"11:00")),l.a.createElement("optgroup",{label:"Afternoon (PM)"},l.a.createElement("option",{value:"12"},"12:00"),l.a.createElement("option",{value:"13"},"1:00"),l.a.createElement("option",{value:"14"},"2:00"),l.a.createElement("option",{value:"15"},"3:00"),l.a.createElement("option",{value:"16"},"4:00"),l.a.createElement("option",{value:"17"},"5:00"),l.a.createElement("option",{value:"18"},"6:00"),l.a.createElement("option",{value:"19"},"7:00"),l.a.createElement("option",{value:"20"},"8:00"),l.a.createElement("option",{value:"21"},"9:00"),l.a.createElement("option",{value:"22"},"10:00"),l.a.createElement("option",{value:"23"},"11:00"))),l.a.createElement("br",null),l.a.createElement("label",null,"Until when?"),l.a.createElement("select",{id:"to-time",onChange:this.updateToTime},l.a.createElement("optgroup",{label:"Morning (AM)"},l.a.createElement("option",{value:"0"},"12:00"),l.a.createElement("option",{value:"1"},"1:00"),l.a.createElement("option",{value:"2"},"2:00"),l.a.createElement("option",{value:"3"},"3:00"),l.a.createElement("option",{value:"4"},"4:00"),l.a.createElement("option",{value:"5"},"5:00"),l.a.createElement("option",{value:"6"},"6:00"),l.a.createElement("option",{value:"7"},"7:00"),l.a.createElement("option",{value:"8"},"8:00"),l.a.createElement("option",{value:"9"},"9:00"),l.a.createElement("option",{value:"10"},"10:00"),l.a.createElement("option",{value:"11"},"11:00")),l.a.createElement("optgroup",{label:"Afternoon (PM)"},l.a.createElement("option",{value:"12pm"},"12:00"),l.a.createElement("option",{value:"13"},"1:00"),l.a.createElement("option",{value:"14"},"2:00"),l.a.createElement("option",{value:"15"},"3:00"),l.a.createElement("option",{value:"16"},"4:00"),l.a.createElement("option",{value:"17"},"5:00"),l.a.createElement("option",{value:"18"},"6:00"),l.a.createElement("option",{value:"19"},"7:00"),l.a.createElement("option",{value:"20"},"8:00"),l.a.createElement("option",{value:"21"},"9:00"),l.a.createElement("option",{value:"22"},"10:00"),l.a.createElement("option",{value:"23"},"11:00"))),l.a.createElement("br",null),l.a.createElement(d.a,{type:"radio",name:"hemispheres",className:"mb-1 flex-wrap"},l.a.createElement(p.a,{id:"northernButton",value:1,onChange:this.toggleNorthernHemisphere},"Northern Hemisphere"),l.a.createElement(p.a,{id:"southernButton",value:2,onChange:this.toggleSouthernHemisphere},"Southern Hemisphere")),l.a.createElement("br",null),l.a.createElement(d.a,{id:"months-group",type:"checkbox",className:"mb-1 flex-wrap"},l.a.createElement(p.a,{value:1,onChange:this.updateMonths},"Jan"),l.a.createElement(p.a,{value:2,onChange:this.updateMonths},"Feb"),l.a.createElement(p.a,{value:3,onChange:this.updateMonths},"Mar"),l.a.createElement(p.a,{value:4,onChange:this.updateMonths},"Apr"),l.a.createElement(p.a,{value:5,onChange:this.updateMonths},"May"),l.a.createElement(p.a,{value:6,onChange:this.updateMonths},"Jun"),l.a.createElement(p.a,{value:7,onChange:this.updateMonths},"Jul"),l.a.createElement(p.a,{value:8,onChange:this.updateMonths},"Aug"),l.a.createElement(p.a,{value:9,onChange:this.updateMonths},"Sep"),l.a.createElement(p.a,{value:10,onChange:this.updateMonths},"Oct"),l.a.createElement(p.a,{value:11,onChange:this.updateMonths},"Nov"),l.a.createElement(p.a,{value:12,onChange:this.updateMonths},"Dec")),l.a.createElement("br",null),l.a.createElement(h.a,{variant:"warning",size:"lg",className:"mb-1",onClick:this.cook},"Cook ",l.a.createElement("span",{role:"img"},"\ud83d\udc69\ud83c\udffe\u200d\ud83c\udf73")),l.a.createElement("br",null),l.a.createElement("input",{type:"text",onChange:this.handleSearch,placeholder:"Search all by name..."}),l.a.createElement(h.a,{onClick:this.handleWhatCanICatchNow,variant:"success",size:"lg",block:!0},"What can I catch right now?")),l.a.createElement("div",{id:"animal-list-container"},this.state.filteredItems?l.a.createElement(S,{items:this.state.filteredItems}):l.a.createElement(g.a,{animation:"border",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading..."))),l.a.createElement("footer",null,l.a.createElement("p",null,"Animal Crossing and Nintendo are registered trademarks of Nintendo of America and we do not claim to own any intellectual property associated with Animal Crossing.")))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.a70d4646.chunk.js.map